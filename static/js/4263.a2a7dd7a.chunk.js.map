{"version":3,"file":"static/js/4263.a2a7dd7a.chunk.js","mappings":"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","sources":["../node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-2f14002d.browser.esm.js","../node_modules/@thirdweb-dev/wallets/dist/errors-9f6736cb.browser.esm.js","../node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-1fb9aedf.browser.esm.js","../node_modules/@thirdweb-dev/wallets/dist/url-a45219bd.browser.esm.js","../node_modules/@thirdweb-dev/wallets/evm/connectors/frame/dist/thirdweb-dev-wallets-evm-connectors-frame.browser.esm.js"],"sourcesContent":["import { defaultChains } from '@thirdweb-dev/chains';\nimport EventEmitter from 'eventemitter3';\n\nclass WagmiConnector extends EventEmitter {\n  /** Unique connector id */\n\n  /** Connector name */\n\n  /** Chains connector supports */\n\n  /** Options to use with connector */\n\n  /** Whether connector is usable */\n\n  constructor(_ref) {\n    let {\n      chains = defaultChains,\n      options\n    } = _ref;\n    super();\n    this.chains = chains;\n    this.options = options;\n  }\n  getBlockExplorerUrls(chain) {\n    const explorers = chain.explorers?.map(x => x.url) ?? [];\n    return explorers.length > 0 ? explorers : undefined;\n  }\n  isChainUnsupported(chainId) {\n    return !this.chains.some(x => x.chainId === chainId);\n  }\n  updateChains(chains) {\n    this.chains = chains;\n  }\n}\n\nexport { WagmiConnector as W };\n","import { _ as _defineProperty } from './defineProperty-d7c057bf.browser.esm.js';\n\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors per EIP-1474.\n * @see https://eips.ethereum.org/EIPS/eip-1474\n */\nclass RpcError extends Error {\n  constructor( /** Human-readable string */\n  message, options) {\n    const {\n      cause,\n      code,\n      data\n    } = options;\n    if (!Number.isInteger(code)) {\n      throw new Error('\"code\" must be an integer.');\n    }\n    if (!message || typeof message !== \"string\") {\n      throw new Error('\"message\" must be a nonempty string.');\n    }\n    super(`${message}. Cause: ${JSON.stringify(cause)}`);\n    this.cause = cause;\n    this.code = code;\n    this.data = data;\n  }\n}\n\n/**\n * @internal\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * @see https://eips.ethereum.org/EIPS/eip-1193\n */\nclass ProviderRpcError extends RpcError {\n  /**\n   * Create an Ethereum Provider JSON-RPC error.\n   * `code` must be an integer in the `1000 <= 4999` range.\n   */\n  constructor( /** Human-readable string */\n  message, options) {\n    const {\n      cause,\n      code,\n      data\n    } = options;\n    if (!(Number.isInteger(code) && code >= 1000 && code <= 4999)) {\n      throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n    }\n    super(message, {\n      cause,\n      code,\n      data\n    });\n  }\n}\n\n/**\n * @internal\n */\nclass AddChainError extends Error {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"name\", \"AddChainError\");\n    _defineProperty(this, \"message\", \"Error adding chain\");\n  }\n}\n\n/**\n * @internal\n */\nclass ChainNotConfiguredError extends Error {\n  constructor(_ref) {\n    let {\n      chainId,\n      connectorId\n    } = _ref;\n    super(`Chain \"${chainId}\" not configured for connector \"${connectorId}\".`);\n    _defineProperty(this, \"name\", \"ChainNotConfigured\");\n  }\n}\nclass ConnectorNotFoundError extends Error {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"name\", \"ConnectorNotFoundError\");\n    _defineProperty(this, \"message\", \"Connector not found\");\n  }\n}\nclass ResourceUnavailableError extends RpcError {\n  constructor(cause) {\n    super(\"Resource unavailable\", {\n      cause,\n      code: -32002\n    });\n    _defineProperty(this, \"name\", \"ResourceUnavailable\");\n  }\n}\n/**\n * @internal\n */\nclass SwitchChainError extends ProviderRpcError {\n  constructor(cause) {\n    super(\"Error switching chain\", {\n      cause,\n      code: 4902\n    });\n    _defineProperty(this, \"name\", \"SwitchChainError\");\n  }\n}\n/**\n * @internal\n */\nclass UserRejectedRequestError extends ProviderRpcError {\n  constructor(cause) {\n    super(\"User rejected request\", {\n      cause,\n      code: 4001\n    });\n    _defineProperty(this, \"name\", \"UserRejectedRequestError\");\n  }\n}\n\n/**\n * @internal\n */\n// Ethers does not have an error type so we can use this for casting\n// https://github.com/ethers-io/ethers.js/blob/main/packages/logger/src.ts/index.ts#L268\n\nexport { AddChainError as A, ChainNotConfiguredError as C, ProviderRpcError as P, ResourceUnavailableError as R, SwitchChainError as S, UserRejectedRequestError as U, ConnectorNotFoundError as a };\n","/**\n * @internal\n */\nfunction normalizeChainId(chainId) {\n  if (typeof chainId === \"string\") {\n    return Number.parseInt(chainId, chainId.trim().substring(0, 2) === \"0x\" ? 16 : 10);\n  }\n  if (typeof chainId === \"bigint\") {\n    return Number(chainId);\n  }\n  return chainId;\n}\n\nexport { normalizeChainId as n };\n","import { getValidChainRPCs } from '@thirdweb-dev/chains';\n\nfunction isTwUrl(url) {\n  const host = new URL(url).hostname;\n  return host.endsWith(\".thirdweb.com\") || host.endsWith(\".thirdweb-dev.com\") || host === \"localhost\" || host === \"0.0.0.0\";\n}\nfunction getValidPublicRPCUrl(chain) {\n  return getValidChainRPCs(chain).map(rpc => {\n    try {\n      const url = new URL(rpc);\n      // remove client id from url\n      if (url.hostname.endsWith(\".thirdweb.com\")) {\n        url.pathname = \"\";\n        url.search = \"\";\n      }\n      return url.toString();\n    } catch (e) {\n      return rpc;\n    }\n  });\n}\n\nexport { getValidPublicRPCUrl as g, isTwUrl as i };\n","import { _ as _classPrivateFieldInitSpec, a as _classPrivateFieldSet, b as _classPrivateFieldGet } from '../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js';\nimport { _ as _defineProperty } from '../../../../dist/defineProperty-d7c057bf.browser.esm.js';\nimport { utils, providers } from 'ethers';\nimport { W as WagmiConnector } from '../../../../dist/WagmiConnector-2f14002d.browser.esm.js';\nimport { a as ConnectorNotFoundError, U as UserRejectedRequestError, R as ResourceUnavailableError, C as ChainNotConfiguredError, A as AddChainError, S as SwitchChainError } from '../../../../dist/errors-9f6736cb.browser.esm.js';\nimport { g as getValidPublicRPCUrl } from '../../../../dist/url-a45219bd.browser.esm.js';\nimport { n as normalizeChainId } from '../../../../dist/normalizeChainId-1fb9aedf.browser.esm.js';\nimport '@thirdweb-dev/chains';\nimport 'eventemitter3';\n\nvar _provider = /*#__PURE__*/new WeakMap();\nclass FrameConnector extends WagmiConnector {\n  constructor(_ref) {\n    let {\n      chains,\n      options: suppliedOptions,\n      connectorStorage\n    } = _ref;\n    const options = {\n      shimDisconnect: true,\n      ...suppliedOptions\n    };\n    super({\n      chains,\n      options\n    });\n    _defineProperty(this, \"id\", \"frame\");\n    _defineProperty(this, \"name\", \"Frame\");\n    _defineProperty(this, \"ready\", true);\n    _defineProperty(this, \"shimDisconnectKey\", `${this.id}.shimDisconnect`);\n    _classPrivateFieldInitSpec(this, _provider, {\n      writable: true,\n      value: void 0\n    });\n    _defineProperty(this, \"onAccountsChanged\", accounts => {\n      if (accounts.length === 0) {\n        this.emit(\"disconnect\");\n      } else {\n        this.emit(\"change\", {\n          account: utils.getAddress(accounts[0])\n        });\n      }\n    });\n    _defineProperty(this, \"onChainChanged\", chainId => {\n      const id = normalizeChainId(chainId);\n      const unsupported = this.isChainUnsupported(id);\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    _defineProperty(this, \"onDisconnect\", () => {\n      this.emit(\"disconnect\");\n      // Remove shim signalling wallet is disconnected\n      if (this.options.shimDisconnect) {\n        this.connectorStorage.removeItem(this.shimDisconnectKey);\n      }\n    });\n    this.connectorStorage = connectorStorage;\n  }\n  async connect(config) {\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new ConnectorNotFoundError();\n      }\n      this.setupListeners();\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n      const accounts = await provider.request({\n        method: \"eth_requestAccounts\"\n      });\n      const account = utils.getAddress(accounts[0]);\n      // Switch to chain if provided\n      let id = await this.getChainId();\n      let unsupported = this.isChainUnsupported(id);\n      if (config?.chainId && id !== config?.chainId) {\n        const chain = await this.switchChain(config?.chainId);\n        id = chain.chainId;\n        unsupported = this.isChainUnsupported(id);\n      }\n\n      // Add shim to storage signalling wallet is connected\n      if (this.options.shimDisconnect) {\n        this.connectorStorage.setItem(this.shimDisconnectKey, \"true\");\n      }\n      return {\n        account,\n        provider,\n        chain: {\n          id,\n          unsupported\n        }\n      };\n    } catch (error) {\n      if (this.isUserRejectedRequestError(error)) {\n        throw new UserRejectedRequestError(error);\n      }\n      if (error.code === -32002) {\n        throw new ResourceUnavailableError(error);\n      }\n      throw error;\n    }\n  }\n  async disconnect() {\n    const provider = await this.getProvider();\n    if (!provider?.removeListener) {\n      return;\n    }\n    provider.removeListener(\"accountsChanged\", this.onAccountsChanged);\n    provider.removeListener(\"chainChanged\", this.onChainChanged);\n    provider.removeListener(\"disconnect\", this.onDisconnect);\n    if (!this.isInjected()) {\n      provider.close();\n    }\n\n    // Remove shim signalling wallet is disconnected\n    if (this.options.shimDisconnect) {\n      this.connectorStorage.removeItem(this.shimDisconnectKey);\n    }\n  }\n  async getAccount() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new ConnectorNotFoundError();\n    }\n    const accounts = await provider.request({\n      method: \"eth_accounts\"\n    });\n    // return checksum address\n    return utils.getAddress(accounts[0]);\n  }\n  async getChainId() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new ConnectorNotFoundError();\n    }\n    const chainId = await provider.request({\n      method: \"eth_chainId\"\n    });\n    return normalizeChainId(chainId);\n  }\n  async getProvider() {\n    _classPrivateFieldSet(this, _provider, this.isInjected() ? this.injectedProvider() : await this.createProvider());\n    return _classPrivateFieldGet(this, _provider);\n  }\n\n  /**\n   * get a `signer` for given `chainId`\n   */\n  async getSigner() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [provider, account] = await Promise.all([this.getProvider(), this.getAccount()]);\n\n    // ethers.providers.Web3Provider\n    return new providers.Web3Provider(provider, chainId).getSigner(account);\n  }\n  async isAuthorized() {\n    try {\n      if (this.options.shimDisconnect &&\n      // If shim does not exist in storage, wallet is disconnected\n      !this.connectorStorage.getItem(this.shimDisconnectKey)) {\n        return false;\n      }\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new ConnectorNotFoundError();\n      }\n      const account = await this.getAccount();\n      return !!account;\n    } catch {\n      return false;\n    }\n  }\n  async switchChain(chainId) {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new ConnectorNotFoundError();\n    }\n    const chainIdHex = utils.hexValue(chainId);\n    try {\n      await Promise.all([provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: chainIdHex\n        }]\n      }), new Promise(res => this.on(\"change\", _ref2 => {\n        let {\n          chain\n        } = _ref2;\n        if (chain?.id === chainId) {\n          res();\n        }\n      }))]);\n      return this.chains.find(x => x.chainId === chainId) ?? {\n        chainId: chainId,\n        name: `Chain ${chainIdHex}`,\n        slug: `${chainIdHex}`,\n        nativeCurrency: {\n          name: \"Ether\",\n          decimals: 18,\n          symbol: \"ETH\"\n        },\n        rpc: [\"\"],\n        chain: \"\",\n        shortName: \"\",\n        testnet: true\n      };\n    } catch (switchChainError) {\n      const chain = this.chains.find(x => x.chainId === chainId);\n      if (!chain) {\n        throw new ChainNotConfiguredError({\n          chainId,\n          connectorId: this.id\n        });\n      }\n\n      // Indicates chain is not added to provider\n      if (switchChainError.code === 4902) {\n        try {\n          await provider.request({\n            method: \"wallet_addEthereumChain\",\n            params: [{\n              chainId: chainIdHex,\n              chainName: chain.name,\n              nativeCurrency: chain.nativeCurrency,\n              rpcUrls: getValidPublicRPCUrl(chain),\n              // no client id on purpose here\n              blockExplorerUrls: this.getBlockExplorerUrls(chain)\n            }]\n          });\n          const currentChainId = await this.getChainId();\n          if (currentChainId !== chainId) {\n            throw new UserRejectedRequestError(new Error(\"User rejected switch after adding network.\"));\n          }\n          return chain;\n        } catch (addChainError) {\n          // if user rejects request to add chain\n          if (this.isUserRejectedRequestError(addChainError)) {\n            throw new UserRejectedRequestError(addChainError);\n          }\n\n          // else other error\n          throw new AddChainError(addChainError.message);\n        }\n      }\n\n      // if user rejects request to switch chain\n      if (this.isUserRejectedRequestError(switchChainError)) {\n        throw new UserRejectedRequestError(switchChainError);\n      }\n\n      // else other error\n      throw new SwitchChainError(switchChainError);\n    }\n  }\n  async watchAsset(_ref3) {\n    let {\n      address,\n      decimals = 18,\n      image,\n      symbol\n    } = _ref3;\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new ConnectorNotFoundError();\n    }\n    return provider.request({\n      method: \"wallet_watchAsset\",\n      params: {\n        type: \"ERC20\",\n        options: {\n          address,\n          decimals,\n          image,\n          symbol\n        }\n      }\n    });\n  }\n  async setupListeners() {\n    const provider = await this.getProvider();\n    if (provider.on) {\n      provider.on(\"accountsChanged\", this.onAccountsChanged);\n      provider.on(\"chainChanged\", this.onChainChanged);\n      provider.on(\"disconnect\", this.onDisconnect);\n    }\n  }\n  isUserRejectedRequestError(error) {\n    return error.code === 4001;\n  }\n  injectedProvider() {\n    return window?.ethereum;\n  }\n  isInjected() {\n    return !!this.injectedProvider()?.isFrame;\n  }\n  async createProvider() {\n    const ethProvider = (await import('eth-provider')).default;\n    return ethProvider(\"frame\");\n  }\n}\n\nexport { FrameConnector };\n"],"names":["WagmiConnector","EventEmitter","constructor","_ref","chains","defaultChains","options","super","this","getBlockExplorerUrls","chain","_chain$explorers$map","_chain$explorers","explorers","map","x","url","length","undefined","isChainUnsupported","chainId","some","updateChains","RpcError","Error","message","cause","code","data","Number","isInteger","concat","JSON","stringify","ProviderRpcError","AddChainError","arguments","_defineProperty","ChainNotConfiguredError","connectorId","ConnectorNotFoundError","ResourceUnavailableError","SwitchChainError","UserRejectedRequestError","normalizeChainId","parseInt","trim","substring","isTwUrl","host","URL","hostname","endsWith","getValidPublicRPCUrl","getValidChainRPCs","rpc","pathname","search","toString","e","_provider","WeakMap","FrameConnector","suppliedOptions","connectorStorage","shimDisconnect","id","_classPrivateFieldInitSpec","writable","value","accounts","emit","account","utils","unsupported","removeItem","shimDisconnectKey","connect","config","provider","getProvider","setupListeners","type","request","method","getChainId","switchChain","setItem","error","isUserRejectedRequestError","disconnect","removeListener","onAccountsChanged","onChainChanged","onDisconnect","isInjected","close","getAccount","_classPrivateFieldSet","injectedProvider","createProvider","_classPrivateFieldGet","getSigner","Promise","all","providers","isAuthorized","getItem","chainIdHex","_this$chains$find","params","res","on","_ref2","find","name","slug","nativeCurrency","decimals","symbol","shortName","testnet","switchChainError","chainName","rpcUrls","blockExplorerUrls","addChainError","watchAsset","_ref3","address","image","_window","window","ethereum","_this$injectedProvide","isFrame","ethProvider","default"],"sourceRoot":""}